{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","services/imageFinderAPI.js","components/Loader/Loader.jsx","components/Button/Button.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGallery","children","className","s","gallery","ImageGalleryItem","webformatURL","largeImageURL","onCLick","item","onClick","src","alt","itemImage","modalRoot","document","querySelector","Modal","closeModal","e","code","props","togleModal","onBackDropClick","target","currentTarget","addEventListener","this","removeEventListener","createPortal","overlay","modal","URL","Component","Searchbar","state","userInput","onChangHandler","inputted","value","setState","onFormSubmit","preventDefault","onSubmitHandler","searchbar","form","onSubmit","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","imageFinderAPI","getImages","query","page","fetch","then","response","ok","json","Error","PuffLoader","loader","color","height","width","Button","onClickHandler","App","userQuery","images","currentPage","error","showModal","isLoading","fetchImages","hits","prevState","window","scrollTo","top","documentElement","offsetHeight","behavior","catch","message","finally","getUserQuery","onClickImage","prevProps","length","map","image","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.58c64219.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3uuUK\",\"itemImage\":\"ImageGalleryItem_itemImage__1IMUN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1UEL3\",\"modal\":\"Modal_modal__1NPs2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__k1fGb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2qpqT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1J2Fn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2eziA\"};","import s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={s.gallery}>{children}</ul>;\n};\nexport default ImageGallery;\n","import s from './ImageGalleryItem.module.css';\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onCLick }) => {\n  return (\n    <li\n      className={s.item}\n      onClick={() => {\n        onCLick(largeImageURL);\n      }}\n    >\n      <img src={webformatURL} alt=\"\" className={s.itemImage} />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n","import { createPortal } from 'react-dom';\nimport React, { Component } from 'react';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    document.addEventListener('keydown', this.closeModal);\n  }\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.closeModal);\n  }\n  closeModal = e => {\n    if (e.code === 'Escape') {\n      this.props.togleModal();\n    }\n  };\n  onBackDropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.togleModal();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.onBackDropClick}>\n        <div className={s.modal}>\n          <img src={this.props.URL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\nclass Searchbar extends Component {\n  state = { userInput: '' };\n  onChangHandler = e => {\n    const inputted = e.currentTarget.value;\n    this.setState({ userInput: inputted });\n  };\n  onFormSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmitHandler(this.state.userInput);\n    this.setState({ userInput: '' });\n  };\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.onFormSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.userInput}\n            onChange={this.onChangHandler}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","const APIkey = 'key=18695501-5acbf60d27f3b96795a230f12';\nconst baseURL = 'https://pixabay.com/api/';\n\nconst getImages = (query, page) => {\n  return fetch(`${baseURL}?${APIkey}&q=${query}&page=${page}&per_page=4`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error(`По запросу ${query} ничего не найдено!`);\n    },\n  );\n};\nconst imageFinderAPI = { getImages };\nexport default imageFinderAPI;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\nconst PuffLoader = () => {\n  return (\n    <div className={s.loader}>\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        // timeout={3000} //3 secs\n      />\n      Loading ...\n    </div>\n  );\n};\n\nexport default PuffLoader;\n","import s from './Button.module.css';\n\nconst Button = ({ onClickHandler }) => {\n  return (\n    <button type=\"button\" onClick={onClickHandler} className={s.button}>\n      Load more\n    </button>\n  );\n};\nexport default Button;\n","import React, { Component } from 'react';\n\nimport s from './App.module.css';\n\nimport ImageGallery from './components/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport imageFinderAPI from './services/imageFinderAPI';\nimport PuffLoader from './components/Loader';\nimport Button from './components/Button';\n\nexport default class App extends Component {\n  state = {\n    userQuery: '',\n    images: [],\n    currentPage: 1,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    isLoading: false,\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.userQuery !== this.state.userQuery) {\n      this.setState(prevState => ({\n        isLoading: true,\n        currentPage: prevState.currentPage + 1,\n      }));\n      this.fetchImages();\n    }\n  }\n  fetchImages = () => {\n    imageFinderAPI\n      .getImages(this.state.userQuery, this.state.currentPage)\n      .then(({ hits }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n        }));\n        window.scrollTo({\n          top: document.documentElement.offsetHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error: error.message }))\n      .finally(this.setState({ isLoading: false }));\n  };\n  getUserQuery = userInput => {\n    this.setState({\n      userQuery: userInput,\n      images: [],\n      currentPage: 1,\n      error: null,\n    });\n  };\n  onClickImage = largeImageURL => {\n    this.togleModal();\n    this.setState({ largeImageURL: largeImageURL });\n  };\n  togleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmitHandler={this.getUserQuery} />\n        {this.state.isLoading && <PuffLoader />}\n        {this.state.images.length > 0 && (\n          <ImageGallery>\n            {this.state.images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                webformatURL={image.webformatURL}\n                largeImageURL={image.largeImageURL}\n                onCLick={this.onClickImage}\n              />\n            ))}\n          </ImageGallery>\n        )}\n        {this.state.showModal && (\n          <Modal URL={this.state.largeImageURL} togleModal={this.togleModal} />\n        )}\n        {this.state.images.length > 0 && (\n          <Button onClickHandler={this.fetchImages} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3GrXS\",\"form\":\"Searchbar_form__XZM_f\",\"button\":\"Searchbar_button__4etQM\",\"label\":\"Searchbar_label__36Tl2\",\"input\":\"Searchbar_input__3DBL4\"};"],"sourceRoot":""}